import{L as e,o,c as r,w as a,a as l,b as t,t as s,p as d}from"./index-f4a39db8.js";import{_ as i,a as n}from"./app-button.a7ca26f0.js";import{r as m}from"./uni-app.es.6368d139.js";import{_ as p,b as u,a as c,c as h}from"./app-authenticate-layout.3ce2ed6b.js";import{_ as f,a as w}from"./uni-row.b89b853b.js";import{_ as $}from"./app-gap.4e41aa5a.js";import{_ as y}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-icons.1bd07a5b.js";import"./app-avatar.7ce86c39.js";const C=y({data(){return{codeTime:0,model:{password:"",confirmPassword:"",phone:null,code:""},rules:{password:{rules:[{required:!0,errorMessage:this.$t("pleaseEnterPassword")}]},confirmPassword:{rules:[{required:!0,errorMessage:this.$t("pleaseEnterPassword")},{validateFunction:(e,o,r,a)=>{o&&r.password!==o?a(this.$t("twoPasswordsDoNotMatch")):a()}}]},phone:{rules:[{required:!0,errorMessage:this.$t("pleaseEnterMobileNumber")}]},code:{rules:[{required:!0,errorMessage:this.$t("pleaseEnterVerificationCode")}]}}}},computed:{codeText(){return this.codeTime>0?`${this.$t("retrieve")} ${this.codeTime}s`:this.$t("getVerificationCode")}},methods:{clickHandler(){e()},async getCodeHandler(){try{await this.$refs.form.validateField("phone");this.codeTime=60,this.timer=setInterval((()=>{this.codeTime<=0?clearInterval(this.timer):this.codeTime--}),1e3)}catch(e){}},async confirmHandler(){try{await this.$refs.form.validate()}catch(e){}}}},[["render",function(e,y,C,_,g,V){const b=m(d("uni-easyinput"),i),k=m(d("uni-forms-item"),p),v=m(d("uni-col"),f),P=m(d("app-button"),n),j=m(d("uni-row"),w),x=m(d("app-text"),u),T=m(d("app-gap"),$),H=m(d("uni-forms"),c),M=m(d("app-authenticate-layout"),h);return o(),r(M,null,{default:a((()=>[l(H,{ref:"form",rules:g.rules,model:g.model,"label-width":0},{default:a((()=>[l(k,{name:"password"},{default:a((()=>[l(b,{primaryColor:e.$theme,modelValue:g.model.password,"onUpdate:modelValue":y[0]||(y[0]=e=>g.model.password=e),type:"password",inputBorder:!1,placeholder:e.$t("newPassword")},null,8,["primaryColor","modelValue","placeholder"])])),_:1}),l(k,{name:"confirmPassword"},{default:a((()=>[l(b,{primaryColor:e.$theme,modelValue:g.model.confirmPassword,"onUpdate:modelValue":y[1]||(y[1]=e=>g.model.confirmPassword=e),type:"password",inputBorder:!1,placeholder:e.$t("confirmPassword")},null,8,["primaryColor","modelValue","placeholder"])])),_:1}),l(k,{name:"phone"},{default:a((()=>[l(b,{primaryColor:e.$theme,type:"number",maxlength:"11",modelValue:g.model.phone,"onUpdate:modelValue":y[2]||(y[2]=e=>g.model.phone=e),inputBorder:!1,placeholder:e.$t("mobileNumber")},null,8,["primaryColor","modelValue","placeholder"])])),_:1}),l(j,{gutter:16},{default:a((()=>[l(v,{span:13},{default:a((()=>[l(k,{name:"code"},{default:a((()=>[l(b,{primaryColor:e.$theme,modelValue:g.model.code,"onUpdate:modelValue":y[3]||(y[3]=e=>g.model.code=e),inputBorder:!1,placeholder:e.$t("verificationCode")},null,8,["primaryColor","modelValue","placeholder"])])),_:1})])),_:1}),l(v,{span:11},{default:a((()=>[l(P,{disabled:g.codeTime>0,"custom-style":{fontSize:"14px"},onClick:V.getCodeHandler},{default:a((()=>[t(s(V.codeText),1)])),_:1},8,["disabled","onClick"])])),_:1})])),_:1}),l(x,{"like-link":"",onClick:V.clickHandler},{default:a((()=>[t(s(e.$t("haveAnAccount")),1)])),_:1},8,["onClick"]),l(T,{gap:"20px"}),l(P,{onClick:V.confirmHandler},{default:a((()=>[t(s(e.$t("confirm")),1)])),_:1},8,["onClick"])])),_:1},8,["rules","model"]),l(T)])),_:1})}]]);export{C as default};
